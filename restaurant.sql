--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4
-- Dumped by pg_dump version 17.4

-- Started on 2025-03-16 13:49:45

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 230 (class 1259 OID 24611)
-- Name: allergene; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.allergene (
    id bigint NOT NULL,
    nom character varying(255)
);


ALTER TABLE public.allergene OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 24610)
-- Name: allergene_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.allergene ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.allergene_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16390)
-- Name: boisson; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.boisson (
    id bigint NOT NULL,
    nom character varying(255),
    prix double precision,
    image_url character varying(255)
);


ALTER TABLE public.boisson OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 16389)
-- Name: boisson_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.boisson ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.boisson_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 24617)
-- Name: categorie; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.categorie (
    id bigint NOT NULL,
    nom character varying(255)
);


ALTER TABLE public.categorie OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 24616)
-- Name: categorie_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.categorie ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.categorie_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 24577)
-- Name: commande; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.commande (
    id bigint NOT NULL,
    boisson_id bigint,
    dessert_id bigint,
    menu_id bigint,
    plat_id bigint
);


ALTER TABLE public.commande OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 24576)
-- Name: commande_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.commande ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.commande_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 24583)
-- Name: dessert; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.dessert (
    id bigint NOT NULL,
    image_url character varying(255),
    nom character varying(255),
    prix double precision
);


ALTER TABLE public.dessert OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 24582)
-- Name: dessert_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.dessert ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.dessert_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16396)
-- Name: menu; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.menu (
    id bigint NOT NULL,
    description character varying(255),
    nom character varying(255),
    image_url character varying(255)
);


ALTER TABLE public.menu OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16395)
-- Name: menu_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.menu ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.menu_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 16404)
-- Name: plat; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.plat (
    id bigint NOT NULL,
    description character varying(255),
    nom character varying(255),
    prix double precision,
    menu_id bigint,
    image_url character varying(255),
    categorie_id bigint
);


ALTER TABLE public.plat OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 24622)
-- Name: plat_allergene; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.plat_allergene (
    plat_id bigint NOT NULL,
    allergene_id bigint NOT NULL
);


ALTER TABLE public.plat_allergene OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16403)
-- Name: plat_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.plat ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.plat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 16412)
-- Name: reservation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reservation (
    id bigint NOT NULL,
    date_heure timestamp(6) without time zone,
    nom_client character varying(255),
    nombre_personnes integer,
    statut character varying(255),
    image_url character varying(255)
);


ALTER TABLE public.reservation OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 16411)
-- Name: reservation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.reservation ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.reservation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4916 (class 0 OID 24611)
-- Dependencies: 230
-- Data for Name: allergene; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.allergene (id, nom) FROM stdin;
1	Gluten
2	Lait
3	Fruits à coque
4	Œufs
5	Soja
6	Poisson
\.


--
-- TOC entry 4904 (class 0 OID 16390)
-- Dependencies: 218
-- Data for Name: boisson; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.boisson (id, nom, prix, image_url) FROM stdin;
1	Coca-Cola	2.5	https://imgur.com/rmhzExz
2	Sprite	2.5	https://imgur.com/3b3NaDc
3	Jus d’Orange Frais	3.5	https://imgur.com/dnEpBd1
4	Thé Glacé Maison	4	https://imgur.com/PEvZEc5
\.


--
-- TOC entry 4918 (class 0 OID 24617)
-- Dependencies: 232
-- Data for Name: categorie; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.categorie (id, nom) FROM stdin;
1	Pizzas
2	Pâtes
3	Salades
4	Viandes
5	Desserts
\.


--
-- TOC entry 4912 (class 0 OID 24577)
-- Dependencies: 226
-- Data for Name: commande; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.commande (id, boisson_id, dessert_id, menu_id, plat_id) FROM stdin;
1	1	1	1	1
2	2	2	1	2
3	3	3	2	3
4	\N	\N	\N	1
5	\N	\N	\N	2
6	\N	\N	\N	3
7	1	\N	\N	\N
8	2	\N	\N	\N
9	3	\N	\N	\N
10	\N	1	\N	\N
11	\N	2	\N	\N
12	\N	3	\N	\N
\.


--
-- TOC entry 4914 (class 0 OID 24583)
-- Dependencies: 228
-- Data for Name: dessert; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.dessert (id, image_url, nom, prix) FROM stdin;
1	https://imgur.com/9E0XeRY	Tiramisu Maison	5.5
2	https://imgur.com/kGIgKsz	Mousse au Chocolat	5.5
3	https://imgur.com/lFcBz2G	Cheesecake Fruits Rouges	6.5
\.


--
-- TOC entry 4906 (class 0 OID 16396)
-- Dependencies: 220
-- Data for Name: menu; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.menu (id, description, nom, image_url) FROM stdin;
1	Un menu équilibré pour les amateurs de pizzas traditionnelles.	Menu Pizza Classique	https://imgur.com/BBOZ7hb
2	Un menu premium avec des ingrédients raffinés et une boisson spéciale.	Menu Gourmet	https://imgur.com/a/pFlp7Y6
3	Une sélection de pizzas végétariennes accompagnées d’une boisson fraîche.	Menu Végétarien	https://imgur.com/RM4O227
4	Un menu premium avec des pizzas à la truffe et un vin raffiné.	Menu Spécial Truffe	https://imgur.com/26o9dDR
\.


--
-- TOC entry 4908 (class 0 OID 16404)
-- Dependencies: 222
-- Data for Name: plat; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.plat (id, description, nom, prix, menu_id, image_url, categorie_id) FROM stdin;
4	Saumon fumé, crème fraîche, aneth	Pizza Saumon	14.5	2	https://imgur.com/undefined	\N
5	Tomate, mozzarella, aubergines, poivrons, champignons	Pizza Végétarienne	11	3	https://imgur.com/RM4O227	\N
6	Crème de truffe noire, parmesan, roquette	Pizza Spéciale Truffe	18	4	https://imgur.com/LLonzZd	\N
1	Tomate, mozzarella, basilic frais	Pizza Margherita	8.5	1	https://imgur.com/yxbK3li	1
2	Mozzarella, chèvre, gorgonzola, parmesan	Pizza 4 Fromages	10.5	1	https://imgur.com/Owd4pji	1
3	Crème de truffe, mozzarella, champignons	Pizza Truffe	15	2	https://imgur.com/LLonzZd	2
\.


--
-- TOC entry 4919 (class 0 OID 24622)
-- Dependencies: 233
-- Data for Name: plat_allergene; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.plat_allergene (plat_id, allergene_id) FROM stdin;
1	1
1	2
2	1
2	2
3	1
3	3
\.


--
-- TOC entry 4910 (class 0 OID 16412)
-- Dependencies: 224
-- Data for Name: reservation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reservation (id, date_heure, nom_client, nombre_personnes, statut, image_url) FROM stdin;
\.


--
-- TOC entry 4925 (class 0 OID 0)
-- Dependencies: 229
-- Name: allergene_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.allergene_id_seq', 6, true);


--
-- TOC entry 4926 (class 0 OID 0)
-- Dependencies: 217
-- Name: boisson_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.boisson_id_seq', 4, true);


--
-- TOC entry 4927 (class 0 OID 0)
-- Dependencies: 231
-- Name: categorie_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.categorie_id_seq', 5, true);


--
-- TOC entry 4928 (class 0 OID 0)
-- Dependencies: 225
-- Name: commande_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.commande_id_seq', 12, true);


--
-- TOC entry 4929 (class 0 OID 0)
-- Dependencies: 227
-- Name: dessert_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.dessert_id_seq', 3, true);


--
-- TOC entry 4930 (class 0 OID 0)
-- Dependencies: 219
-- Name: menu_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.menu_id_seq', 4, true);


--
-- TOC entry 4931 (class 0 OID 0)
-- Dependencies: 221
-- Name: plat_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.plat_id_seq', 6, true);


--
-- TOC entry 4932 (class 0 OID 0)
-- Dependencies: 223
-- Name: reservation_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.reservation_id_seq', 1, false);


--
-- TOC entry 4747 (class 2606 OID 24615)
-- Name: allergene allergene_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.allergene
    ADD CONSTRAINT allergene_pkey PRIMARY KEY (id);


--
-- TOC entry 4735 (class 2606 OID 16394)
-- Name: boisson boisson_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.boisson
    ADD CONSTRAINT boisson_pkey PRIMARY KEY (id);


--
-- TOC entry 4749 (class 2606 OID 24621)
-- Name: categorie categorie_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.categorie
    ADD CONSTRAINT categorie_pkey PRIMARY KEY (id);


--
-- TOC entry 4743 (class 2606 OID 24581)
-- Name: commande commande_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.commande
    ADD CONSTRAINT commande_pkey PRIMARY KEY (id);


--
-- TOC entry 4745 (class 2606 OID 24589)
-- Name: dessert dessert_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.dessert
    ADD CONSTRAINT dessert_pkey PRIMARY KEY (id);


--
-- TOC entry 4737 (class 2606 OID 16402)
-- Name: menu menu_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.menu
    ADD CONSTRAINT menu_pkey PRIMARY KEY (id);


--
-- TOC entry 4739 (class 2606 OID 16410)
-- Name: plat plat_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.plat
    ADD CONSTRAINT plat_pkey PRIMARY KEY (id);


--
-- TOC entry 4741 (class 2606 OID 16418)
-- Name: reservation reservation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT reservation_pkey PRIMARY KEY (id);


--
-- TOC entry 4752 (class 2606 OID 24605)
-- Name: commande fk1oyrd6463n1xvq63mbgoiwrj5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.commande
    ADD CONSTRAINT fk1oyrd6463n1xvq63mbgoiwrj5 FOREIGN KEY (plat_id) REFERENCES public.plat(id);


--
-- TOC entry 4753 (class 2606 OID 24600)
-- Name: commande fk1s1r6dec78ncrr74eny1yo9f3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.commande
    ADD CONSTRAINT fk1s1r6dec78ncrr74eny1yo9f3 FOREIGN KEY (menu_id) REFERENCES public.menu(id);


--
-- TOC entry 4754 (class 2606 OID 24590)
-- Name: commande fk6t0d2htqn0ww3qae3m40hya35; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.commande
    ADD CONSTRAINT fk6t0d2htqn0ww3qae3m40hya35 FOREIGN KEY (boisson_id) REFERENCES public.boisson(id);


--
-- TOC entry 4756 (class 2606 OID 24635)
-- Name: plat_allergene fk7dpchj71lpp2hpvp65a8er96r; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.plat_allergene
    ADD CONSTRAINT fk7dpchj71lpp2hpvp65a8er96r FOREIGN KEY (plat_id) REFERENCES public.plat(id);


--
-- TOC entry 4750 (class 2606 OID 16419)
-- Name: plat fk8npoc06dog4rvcaxb1ftne5uo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.plat
    ADD CONSTRAINT fk8npoc06dog4rvcaxb1ftne5uo FOREIGN KEY (menu_id) REFERENCES public.menu(id);


--
-- TOC entry 4755 (class 2606 OID 24595)
-- Name: commande fkdfkjskwx2isj1bl4i6ch04yki; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.commande
    ADD CONSTRAINT fkdfkjskwx2isj1bl4i6ch04yki FOREIGN KEY (dessert_id) REFERENCES public.dessert(id);


--
-- TOC entry 4751 (class 2606 OID 24625)
-- Name: plat fkqk8rf3sky00fc8avq2uymm84p; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.plat
    ADD CONSTRAINT fkqk8rf3sky00fc8avq2uymm84p FOREIGN KEY (categorie_id) REFERENCES public.categorie(id);


--
-- TOC entry 4757 (class 2606 OID 24630)
-- Name: plat_allergene fksdmj0r2w4stgns28rhh205thi; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.plat_allergene
    ADD CONSTRAINT fksdmj0r2w4stgns28rhh205thi FOREIGN KEY (allergene_id) REFERENCES public.allergene(id);


-- Completed on 2025-03-16 13:49:45

--
-- PostgreSQL database dump complete
--

